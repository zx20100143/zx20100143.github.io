<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【老徐】该如何设计你的 PasswordEncoder | Evan&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="Java, Java后端，面试，并发，虚拟机，spring，mybatis，zookeeper，kafka，dubbo，docker，k8s，apollo，git，maven，idea，vue，webpack，html，js，css，nodejs">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.6732922a.css" as="style"><link rel="preload" href="/assets/js/app.3e562d47.js" as="script"><link rel="preload" href="/assets/js/2.37ecbe42.js" as="script"><link rel="preload" href="/assets/js/27.fd041e92.js" as="script"><link rel="prefetch" href="/assets/js/10.2694d36c.js"><link rel="prefetch" href="/assets/js/100.059d8b46.js"><link rel="prefetch" href="/assets/js/101.58669e3d.js"><link rel="prefetch" href="/assets/js/102.5c201e46.js"><link rel="prefetch" href="/assets/js/103.ee0d1496.js"><link rel="prefetch" href="/assets/js/104.d1a1ed30.js"><link rel="prefetch" href="/assets/js/105.46eaeaa9.js"><link rel="prefetch" href="/assets/js/106.0c5b0825.js"><link rel="prefetch" href="/assets/js/107.2c2ad07a.js"><link rel="prefetch" href="/assets/js/108.11d34740.js"><link rel="prefetch" href="/assets/js/109.8b416dbd.js"><link rel="prefetch" href="/assets/js/11.3719204c.js"><link rel="prefetch" href="/assets/js/110.5b2cd42b.js"><link rel="prefetch" href="/assets/js/111.1e0433c6.js"><link rel="prefetch" href="/assets/js/112.d6dd9017.js"><link rel="prefetch" href="/assets/js/113.8c306362.js"><link rel="prefetch" href="/assets/js/114.479459db.js"><link rel="prefetch" href="/assets/js/115.75a01bb2.js"><link rel="prefetch" href="/assets/js/116.e47a0993.js"><link rel="prefetch" href="/assets/js/117.f55dd56a.js"><link rel="prefetch" href="/assets/js/118.b4f7f4c2.js"><link rel="prefetch" href="/assets/js/119.cee14e02.js"><link rel="prefetch" href="/assets/js/12.b8c146ee.js"><link rel="prefetch" href="/assets/js/120.cecf16e8.js"><link rel="prefetch" href="/assets/js/121.2a6c61b5.js"><link rel="prefetch" href="/assets/js/122.f23de8a9.js"><link rel="prefetch" href="/assets/js/123.370b8755.js"><link rel="prefetch" href="/assets/js/124.8f63f916.js"><link rel="prefetch" href="/assets/js/125.890cfc0e.js"><link rel="prefetch" href="/assets/js/126.bc8ea468.js"><link rel="prefetch" href="/assets/js/127.4de9880e.js"><link rel="prefetch" href="/assets/js/128.f47db596.js"><link rel="prefetch" href="/assets/js/129.a7a4906f.js"><link rel="prefetch" href="/assets/js/13.ef3c3ee5.js"><link rel="prefetch" href="/assets/js/130.39a20827.js"><link rel="prefetch" href="/assets/js/131.ef819e1d.js"><link rel="prefetch" href="/assets/js/132.933b3fde.js"><link rel="prefetch" href="/assets/js/133.f24106f3.js"><link rel="prefetch" href="/assets/js/134.ec76fef2.js"><link rel="prefetch" href="/assets/js/135.52d1fa4b.js"><link rel="prefetch" href="/assets/js/136.14c31a3a.js"><link rel="prefetch" href="/assets/js/137.9798b85c.js"><link rel="prefetch" href="/assets/js/138.b30af343.js"><link rel="prefetch" href="/assets/js/139.48abe72e.js"><link rel="prefetch" href="/assets/js/14.f7c55b4c.js"><link rel="prefetch" href="/assets/js/140.9414fa0f.js"><link rel="prefetch" href="/assets/js/141.42dbe2cd.js"><link rel="prefetch" href="/assets/js/142.c9a5d841.js"><link rel="prefetch" href="/assets/js/143.5d9bfc32.js"><link rel="prefetch" href="/assets/js/144.b03818dd.js"><link rel="prefetch" href="/assets/js/145.8e9009ed.js"><link rel="prefetch" href="/assets/js/146.b5c3f0a1.js"><link rel="prefetch" href="/assets/js/147.ba2a4d43.js"><link rel="prefetch" href="/assets/js/148.8e00b879.js"><link rel="prefetch" href="/assets/js/149.1f4d02c0.js"><link rel="prefetch" href="/assets/js/15.eb3073e0.js"><link rel="prefetch" href="/assets/js/150.45f429a6.js"><link rel="prefetch" href="/assets/js/16.a76f3aa1.js"><link rel="prefetch" href="/assets/js/17.21cffd14.js"><link rel="prefetch" href="/assets/js/18.412c079a.js"><link rel="prefetch" href="/assets/js/19.f7ec127c.js"><link rel="prefetch" href="/assets/js/20.ee23c0a2.js"><link rel="prefetch" href="/assets/js/21.6996f638.js"><link rel="prefetch" href="/assets/js/22.fb5cb604.js"><link rel="prefetch" href="/assets/js/23.9a79f539.js"><link rel="prefetch" href="/assets/js/24.c4098bb2.js"><link rel="prefetch" href="/assets/js/25.26896566.js"><link rel="prefetch" href="/assets/js/26.b3b7b1f8.js"><link rel="prefetch" href="/assets/js/28.00a16fa2.js"><link rel="prefetch" href="/assets/js/29.857c5a00.js"><link rel="prefetch" href="/assets/js/3.e07dfeb4.js"><link rel="prefetch" href="/assets/js/30.73ac0d38.js"><link rel="prefetch" href="/assets/js/31.e96f7fa9.js"><link rel="prefetch" href="/assets/js/32.b54e1d09.js"><link rel="prefetch" href="/assets/js/33.186e42f1.js"><link rel="prefetch" href="/assets/js/34.13f30968.js"><link rel="prefetch" href="/assets/js/35.1eaabd73.js"><link rel="prefetch" href="/assets/js/36.a932f2cd.js"><link rel="prefetch" href="/assets/js/37.b7c9eee0.js"><link rel="prefetch" href="/assets/js/38.f29e7739.js"><link rel="prefetch" href="/assets/js/39.6f8dd3dc.js"><link rel="prefetch" href="/assets/js/4.3c076cc1.js"><link rel="prefetch" href="/assets/js/40.55f4566a.js"><link rel="prefetch" href="/assets/js/41.b73ba281.js"><link rel="prefetch" href="/assets/js/42.3d43de4e.js"><link rel="prefetch" href="/assets/js/43.7c72be71.js"><link rel="prefetch" href="/assets/js/44.e6fd7e4c.js"><link rel="prefetch" href="/assets/js/45.80270188.js"><link rel="prefetch" href="/assets/js/46.20881084.js"><link rel="prefetch" href="/assets/js/47.975d4d88.js"><link rel="prefetch" href="/assets/js/48.74b7de4e.js"><link rel="prefetch" href="/assets/js/49.badbc0fd.js"><link rel="prefetch" href="/assets/js/5.6945d169.js"><link rel="prefetch" href="/assets/js/50.4c105fff.js"><link rel="prefetch" href="/assets/js/51.25618f4f.js"><link rel="prefetch" href="/assets/js/52.9e809ef4.js"><link rel="prefetch" href="/assets/js/53.1234e3fe.js"><link rel="prefetch" href="/assets/js/54.4df09f85.js"><link rel="prefetch" href="/assets/js/55.0a8bce68.js"><link rel="prefetch" href="/assets/js/56.7b380acf.js"><link rel="prefetch" href="/assets/js/57.d79a9121.js"><link rel="prefetch" href="/assets/js/58.361747fe.js"><link rel="prefetch" href="/assets/js/59.99e7433b.js"><link rel="prefetch" href="/assets/js/6.0dcf2416.js"><link rel="prefetch" href="/assets/js/60.c8e96f09.js"><link rel="prefetch" href="/assets/js/61.53e8e7f2.js"><link rel="prefetch" href="/assets/js/62.73be41ca.js"><link rel="prefetch" href="/assets/js/63.0a692a87.js"><link rel="prefetch" href="/assets/js/64.a2d6a4e4.js"><link rel="prefetch" href="/assets/js/65.18b1e958.js"><link rel="prefetch" href="/assets/js/66.b60688d0.js"><link rel="prefetch" href="/assets/js/67.e276ad2d.js"><link rel="prefetch" href="/assets/js/68.9e00518b.js"><link rel="prefetch" href="/assets/js/69.d03e9c5a.js"><link rel="prefetch" href="/assets/js/7.a75b65b8.js"><link rel="prefetch" href="/assets/js/70.a448d15a.js"><link rel="prefetch" href="/assets/js/71.d498492d.js"><link rel="prefetch" href="/assets/js/72.7ef8acba.js"><link rel="prefetch" href="/assets/js/73.35693a6f.js"><link rel="prefetch" href="/assets/js/74.6d9cec5f.js"><link rel="prefetch" href="/assets/js/75.ed24f434.js"><link rel="prefetch" href="/assets/js/76.f6c02b18.js"><link rel="prefetch" href="/assets/js/77.b965d1ef.js"><link rel="prefetch" href="/assets/js/78.d2b46d43.js"><link rel="prefetch" href="/assets/js/79.f65acbb6.js"><link rel="prefetch" href="/assets/js/8.f4f061ea.js"><link rel="prefetch" href="/assets/js/80.624a8910.js"><link rel="prefetch" href="/assets/js/81.872fa2eb.js"><link rel="prefetch" href="/assets/js/82.ead7f859.js"><link rel="prefetch" href="/assets/js/83.2c2f8597.js"><link rel="prefetch" href="/assets/js/84.b37717a4.js"><link rel="prefetch" href="/assets/js/85.aba9c33b.js"><link rel="prefetch" href="/assets/js/86.11a038a5.js"><link rel="prefetch" href="/assets/js/87.179509b8.js"><link rel="prefetch" href="/assets/js/88.f7a19cad.js"><link rel="prefetch" href="/assets/js/89.7ea87cc3.js"><link rel="prefetch" href="/assets/js/9.33677648.js"><link rel="prefetch" href="/assets/js/90.9baaeaf2.js"><link rel="prefetch" href="/assets/js/91.66863076.js"><link rel="prefetch" href="/assets/js/92.4b4d1f3e.js"><link rel="prefetch" href="/assets/js/93.e8edba78.js"><link rel="prefetch" href="/assets/js/94.56e22f6c.js"><link rel="prefetch" href="/assets/js/95.15441c74.js"><link rel="prefetch" href="/assets/js/96.6eca7dbe.js"><link rel="prefetch" href="/assets/js/97.6e0198cb.js"><link rel="prefetch" href="/assets/js/98.1aa1a223.js"><link rel="prefetch" href="/assets/js/99.65ed08e7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6732922a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo-star.jpg" alt="Evan's blog" class="logo"> <span class="site-name can-hide">Evan's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java基础</a></li><li class="dropdown-item"><h4>Java高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">Java并发</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">Java虚拟机</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">JDK新特性</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">Java Web</a></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">计算机网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring MVC</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Boot</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Cloud</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Cloud Alibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/c55839/" class="nav-link">Spring Security</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mybatis</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mybatis Plus</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Zookeeper</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Dubbo</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Apollo</a></li><li class="dropdown-item"><h4>大数据</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/261b24/" class="nav-link">Hbase</a></li><li class="dropdown-subitem"><a href="/pages/c55839/" class="nav-link">Spark</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">ClickHouse</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front-end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Webpack</a></li><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8309a5b876fc95e3/" class="nav-link">Vue Router</a></li><li class="dropdown-subitem"><a href="/pages/0a83b083bdf257cb/" class="nav-link">Vuex</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">ES6</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构" class="dropdown-title"><a href="/design/" class="link-title">架构</a> <span class="title" style="display:none;">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/operation/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Shell脚本</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Kubernetes</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Maven</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">SVN</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Idea</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/interview/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/pages/bbda94/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">分布式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/technology/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/zx20100143/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.jpg"> <div class="blogger-info"><h3>星星</h3> <span>一个普通Java程序员的自我修养</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java基础</a></li><li class="dropdown-item"><h4>Java高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">Java并发</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">Java虚拟机</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">JDK新特性</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">Java Web</a></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/note/es6/" class="nav-link">计算机网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring MVC</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Boot</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Cloud</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Spring Cloud Alibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/c55839/" class="nav-link">Spring Security</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mybatis</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mybatis Plus</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Zookeeper</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Dubbo</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Apollo</a></li><li class="dropdown-item"><h4>大数据</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/261b24/" class="nav-link">Hbase</a></li><li class="dropdown-subitem"><a href="/pages/c55839/" class="nav-link">Spark</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">ClickHouse</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front-end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Webpack</a></li><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8309a5b876fc95e3/" class="nav-link">Vue Router</a></li><li class="dropdown-subitem"><a href="/pages/0a83b083bdf257cb/" class="nav-link">Vuex</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">ES6</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构" class="dropdown-title"><a href="/design/" class="link-title">架构</a> <span class="title" style="display:none;">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/operation/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Shell脚本</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Kubernetes</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Maven</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">SVN</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Idea</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/interview/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/pages/bbda94/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/back-end/" class="nav-link">分布式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/technology/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/zx20100143/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring MVC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Boot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Cloud</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring Cloud Alibaba</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Spring Security</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c55839/" class="sidebar-link">【老徐】Spring Security(一) —— Architecture Overview</a></li><li><a href="/pages/188a19/" class="sidebar-link">【老徐】Spring Security(二) —— Guides</a></li><li><a href="/pages/9327fd/" class="sidebar-link">【老徐】Spring Security(三) —— 核心配置解读</a></li><li><a href="/pages/bb2ce5/" class="sidebar-link">【老徐】Spring Security(四) —— 核心过滤器源码分析</a></li><li><a href="/pages/754b42/" class="sidebar-link">【老徐】Spring Security(五) —— 动手实现一个 IP_Login</a></li><li><a href="/pages/79202c/" class="sidebar-link">【老徐】从零开始的 Spring Security OAuth2（一）</a></li><li><a href="/pages/3e6453/" class="sidebar-link">【老徐】从零开始的 Spring Security OAuth2（二）</a></li><li><a href="/pages/202614/" class="sidebar-link">【老徐】从零开始的 Spring Security OAuth2（三）</a></li><li><a href="/pages/9be0a1/" aria-current="page" class="active sidebar-link">【老徐】该如何设计你的 PasswordEncoder</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/605664/" class="sidebar-link">Spring Security 入门篇</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mybatis Plus</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Zookeeper</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dubbo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kafka</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Apollo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大数据</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=%E6%A1%86%E6%9E%B6" title="分类" data-v-0c557b5e>框架</a></li><li data-v-0c557b5e><a href="/categories/?category=Spring%20Security" title="分类" data-v-0c557b5e>Spring Security</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>zx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-02-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">【老徐】该如何设计你的 PasswordEncoder<!----></h1>  <div class="theme-vdoing-content content__default"><p>摘要: 原创出处 https://www.cnkirito.moe/spring-security-6/ 「老徐」欢迎转载，保留摘要，谢谢！</p> <hr> <h3 id="缘起"><a href="#缘起" class="header-anchor">#</a> 缘起</h3> <p>前端时间将一个集成了 spring-security-oauth2 的旧项目改造了一番，将 springboot 升级成了 springboot 2.0，众所周知 springboot 2.0 依赖的是 spring5，并且许多相关的依赖都发生了较大的改动，与本文相关的改动罗列如下，有兴趣的同学可以看看：<a href="https://docs.spring.io/spring-security/site/docs/5.0.4.RELEASE/reference/htmlsingle/#new" target="_blank" rel="noopener noreferrer">Spring Security 5.0 New Features<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，增强了 oauth2 集成的功能以及和一个比较有意思的改动—重构了密码编码器的实现（Password Encoding，由于大多数 PasswordEncoder 相关的算法是 hash 算法，所以本文将 PasswordEncoder 翻译成‘密码编码器’和并非‘密码加密器’）官方称之为</p> <p><a href="https://docs.spring.io/spring-security/site/docs/5.0.4.RELEASE/reference/htmlsingle/#core-services-password-encoding" target="_blank" rel="noopener noreferrer">Modernized Password Encoding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> — 现代化的密码编码方式 另外，springboot2.0 的自动配置也做了一些调整，其中也有几点和 spring-security 相关，戳这里看所有细节 <a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide" target="_blank" rel="noopener noreferrer">springboot2.0 迁移指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>一开始，我仅仅修改了依赖，将</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.5.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>升级成了</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>不出意料出现了兼容性的问题，我在尝试登录时，出现了如下的报错</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>原因也很明显，正如 spring security 的更新文档中描述的那样，spring security 5 对 PasswordEncoder 做了相关的重构，原先默认配置的 PlainTextPasswordEncoder（明文密码）被移除了。这引起了我的兴趣，spring security 在新版本中对于 passwordEncoder 进行了哪些改造，这些改造背后又是出于什么样的目的呢？卖个关子，先从远古时期的案例来一步步演化出所谓的“现代化密码编码方式”。</p> <h3 id="密码存储演进史"><a href="#密码存储演进史" class="header-anchor">#</a> 密码存储演进史</h3> <p>自从互联网有了用户的那一刻起，存储用户密码这件事便成为了一个健全的系统不得不面对的一件事。远古时期，明文存储密码可能还不被认为是一个很大的系统缺陷（事实上这是一件很恐怖的事）。提及明文存储密码，我立刻联想到的是 CSDN 社区在 2011 年末发生的 600 万用户密码泄露的事件，谁也不会想到这个和程序员密切相关的网站会犯如此低级的错误。明文存储密码使得恶意用户可以通过 sql 注入等攻击方式来获取用户名和密码，虽然安全框架和良好的编码规范可以规避很多类似的攻击，但依旧避免不了系统管理员，DBA 有途径获取用户密码这一事实。事实上，不用明文存储存储密码，程序员们早在 n 多年前就已经达成了共识。</p> <p>不能明文存储，一些 hash 算法便被广泛用做密码的编码器，对密码进行单向 hash 处理后存储数据库，当用户登录时，计算用户输入的密码的 hash 值，将两者进行比对。单向 hash 算法，顾名思义，它无法（或者用不能轻易更为合适）被反向解析还原出原密码。这杜绝了管理员直接获取密码的途径，可仅仅依赖于普通的 hash 算法（如 md5，sha256）是不合适的，他主要有 3 个特点：</p> <ol><li>同一密码生成的 hash 值一定相同</li> <li>不同密码的生成的 hash 值可能相同（md5 的碰撞问题相比 sha256 还要严重）</li> <li>计算速度快。</li></ol> <p>以上三点结合在一起，破解此类算法成了不是那么困难的一件事，尤其是第三点，会在下文中再次提到，多快才算非常快？按照相关资料的说法：</p> <blockquote><p>modern hardware perform billions of hash calculations a second.</p></blockquote> <p>考虑到大多数用户使用的密码多为数字+字母+特殊符号的组合，攻击者将常用的密码进行枚举，甚至通过排列组合来暴力破解，这被称为 rainbow table。算法爱好者能够立刻看懂到上述的方案，这被亲切地称之为—打表，一种暴力美学，这张表是可以被复用的。</p> <p>虽然仅仅依赖于传统 hash 算法的思路被否决了，但这种 hash 后比对的思路，几乎被后续所有的优化方案继承。</p> <p>hash 方案迎来的第一个改造是对引入一个“随机的因子”来掺杂进明文中进行 hash 计算，这样的随机因子通常被称之为盐 （salt）。salt 一般是用户相关的，每个用户持有各自的 salt。此时狗蛋和二丫的密码即使相同，由于 salt 的影响，存储在数据库中的密码也是不同的，除非…为每个用户单独建议一张 rainbow table。很明显 salted hash 相比普通的单向 hash 方案加大了 hacker 攻击的难度。但了解过 GPU 并行计算能力之强大的童鞋，都能够意识到，虽然破解 salted hash 比较麻烦，却并非不可行，勤劳勇敢的安全专家似乎也对这个方案不够满意。</p> <p>为解决上述 salted hash 仍然存在的问题，一些新型的单向 hash 算法被研究了出来。其中就包括：Bcrypt，PBKDF2，Scrypt，Argon2。为什么这些 hash 算法能保证密码存储的安全性？因为他们足够慢，恰到好处的慢。这么说不严谨，只是为了给大家留个深刻的映像：慢。这类算法有一个特点，存在一个影响因子，可以用来控制计算强度，这直接决定了破解密码所需要的资源和时间，直观的体会可以见下图，在一年内破解如下算法所需要的硬件资源花费（折算成美元）</p> <p><a href="http://kirito.iocoder.cn/1_QdbniDuZiiF1N7ArNJChOA.png" target="_blank" rel="noopener noreferrer"><img src="http://kirito.iocoder.cn/1_QdbniDuZiiF1N7ArNJChOA.png" alt="一年内破解如下算法所需要的硬件资源花费"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>一年内破解如下算法所需要的硬件资源花费</p> <p>这使得破解成了一件极其困难的事，并且，其中的计算强度因子是可控的，这样，即使未来量子计算机的计算能力爆表，也可以通过其控制计算强度以防破解。注意，普通的验证过程只需要计算一次 hash 计算，使用此类 hash 算法并不会影响到用户体验。</p> <h3 id="慢-hash-算法真的安全吗"><a href="#慢-hash-算法真的安全吗" class="header-anchor">#</a> 慢 hash 算法真的安全吗？</h3> <p>Bcrypt，Scrypt，PBKDF2 这些慢 hash 算法是目前最为推崇的 password encoding 方式，好奇心驱使我思考了这样一个问题：慢 hash 算法真的安全吗？</p> <p>我暂时还没有精力仔细去研究他们中每一个算法的具体实现，只能通过一些文章来拾人牙慧，简单看看这几个算法的原理和安全性。</p> <p>PBKDF2 被设计的很简单，它的基本原理是通过一个伪随机函数（例如 HMAC 函数），把明文和一个盐值作为输入参数，然后按照设置的计算强度因子重复进行运算，并最终产生密钥。这样的重复 hash 已经被认为足够安全，但也有人提出了不同意见，此类算法对于传统的 CPU 来说的确是足够安全，但 GPU 被搬了出来，前文提到过 GPU 的并行计算能力非常强大。</p> <p>Bcrypt 强大的一点在于，其不仅仅是 CPU 密集型，还是 RAM 密集型！双重的限制因素，导致 GPU，ASIC（专用集成电路）无法应对 Bcrypt 带来的破解困境。</p> <p>然后…看了 Scrypt 的相关资料之后我才意识到这个坑有多深。一个熟悉又陌生的词出现在了我面前：FPGA（现场可编程逻辑门阵列），这货就比较厉害了。现成的芯片指令结构如传统的 CPU，GPU，ASIC 都无法破解 Bcrypt，但是 FPGA 支持烧录逻辑门（如AND、OR、XOR、NOT），通过编程的方式烧录指令集的这一特性使得可以定制硬件来破解 Bcrypt。尽管我不认为懂这个技术的人会去想办法破解真正的系统，但，只要这是一个可能性，就总有方法会被发明出来与之对抗。Scrypt 比 Bcrypt 额外考虑到的就是大规模的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%A2%E8%A3%BD%E7%A1%AC%E9%AB%94%E6%94%BB%E6%93%8A&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">自定义硬件攻击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，从而刻意设计需要大量内存运算。</p> <p>理论终归是理论，实际上 Bcrypt 算法被发明至今 18 年，使用范围广，且从未因为安全问题而被修改，其有限性是已经被验证过的，相比之下 Scrypt 据我看到的文章显示是 9 年的历史，没有 Bcrypt 使用的广泛。从破解成本和权威性的角度来看，Bcrypt 用作密码编码器是不错的选择。</p> <h3 id="spring-security-废弃的接口"><a href="#spring-security-废弃的接口" class="header-anchor">#</a> spring security 废弃的接口</h3> <p>回到文档中，spring security 5 对 PasswordEncoder 做了相关的重构，原先默认配置的 PlainTextPasswordEncoder（明文密码）被移除了，想要做到明文存储密码，只能使用一个过期的类来过渡</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">NoOpPasswordEncoder</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>实际上，spring security 提供了 BCryptPasswordEncoder 来进行密码编码，并作为了相关配置的默认配置，只不过没有暴露为全局的 Bean。使用明文存储的风险在文章一开始就已经强调过，NoOpPasswordEncoder 只能存在于 demo 中。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>别忘了对你数据库中的密码进行同样的编码，否则无法对应。</p> <h3 id="更深层的思考"><a href="#更深层的思考" class="header-anchor">#</a> 更深层的思考</h3> <p>实际上，spring security 5 的另一个设计是促使我写成本文的初衷。</p> <p>不知道有没有读者产生跟我相同的困扰：</p> <ol><li>如果我要设计一个 QPS 很高的登录系统，使用 spring security 推荐的 BCrypt 会不会存在性能问题？</li> <li>spring security 怎么这么坑，原来的密码编码器都给改了，我需要怎么迁移旧密码编码的应用程序？</li> <li>万一以后出了更高效的加密算法，这种笨重的硬编码方式配置密码编码器是不是不够灵活？</li></ol> <p>在 spring security 5 提供了这样一个思路，应该将密码编码之后的 hash 值和加密方式一起存储，并提供了一个 DelegatingPasswordEncoder 来作为众多密码密码编码方式的集合。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">PasswordEncoderFactories</span><span class="token punctuation">.</span><span class="token function">createDelegatingPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>负责生产 DelegatingPasswordEncoder 的工厂方法：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PasswordEncoderFactories</span> <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">createDelegatingPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> encodingId <span class="token operator">=</span> <span class="token string">&quot;bcrypt&quot;</span><span class="token punctuation">;</span>
      <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">PasswordEncoder</span><span class="token punctuation">&gt;</span></span> encoders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>encodingId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;ldap&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LdapShaPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;MD4&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Md4PasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;MD5&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MessageDigestPasswordEncoder</span><span class="token punctuation">(</span><span class="token string">&quot;MD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;noop&quot;</span><span class="token punctuation">,</span> <span class="token class-name">NoOpPasswordEncoder</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;pbkdf2&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Pbkdf2PasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;scrypt&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;SHA-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MessageDigestPasswordEncoder</span><span class="token punctuation">(</span><span class="token string">&quot;SHA-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;SHA-256&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MessageDigestPasswordEncoder</span><span class="token punctuation">(</span><span class="token string">&quot;SHA-256&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      encoders<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sha256&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">StandardPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DelegatingPasswordEncoder</span><span class="token punctuation">(</span>encodingId<span class="token punctuation">,</span> encoders<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">private</span> <span class="token class-name">PasswordEncoderFactories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>如此注入 PasswordEncoder 之后，我们在数据库中需要这么存储数据：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG
{noop}password
{pbkdf2}5d923b44a6d129f3ddf3e3c8d29412723dcbde72445e8ef6bf3b508fbf17fa4ed4d6b99ca763d8dc
{scrypt}$e0801$8bWJaSu2IKSn9Z9kM+TPXfOc/9bdYSrN1oD9qfVThWEwdRTnO7re7Ei+fUZRJ68k9lTyuTeUp4of4g24hHnazw==$OAOec05+bXxvuu/1qZ6NUR+xQYvYv7BeL1QxwRpY5Pc=
{sha256}97cde38028ad898ebc02e690819fa220e88c62e0699403e94fff291cfffaf8410849f27605abcbc0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>还记得文章开始的报错吗？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个 id 就是因为我们没有为数据库中的密码添加 {bcrypt} 此类的前缀导致的。</p> <blockquote><p>你会不会担心密码泄露后，{bcrypt}，{pbkdf2}，{scrypt}，{sha256} 此类前缀会直接暴露密码的编码方式？其实这个考虑是多余的，因为密码存储的依赖算法并不是一个秘密。大多数能搞到你密码的 hacker 都可以轻松的知道你用的是什么算法，例如，bcrypt 算法通常以 $2a$ 开头</p></blockquote> <p>稍微思考下，前面的三个疑问就可以迎刃而解，这就是文档中所谓的：<strong>能够自适应服务器性能的现代化密码编码方案</strong>。</p> <h3 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h3> <p><a href="https://medium.com/@mpreziuso/password-hashing-pbkdf2-scrypt-bcrypt-1ef4bb9c19b3" target="_blank" rel="noopener noreferrer">Password Hashing: PBKDF2, Scrypt, Bcrypt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#core-services-password-encoding" target="_blank" rel="noopener noreferrer">core-services-password-encoding<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="show-me-the-code"><a href="#show-me-the-code" class="header-anchor">#</a> show me the code</h3> <p>spring security oauth2 的 github 代码示例，体会下 spring security 4 -&gt; spring security 5 的相关变化。</p> <p>https://github.com/lexburner/oauth2-demo</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/zx20100143/edit/master/docs/10.框架/25.Spring Security/09.【老徐】该如何设计你的 PasswordEncoder.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022-02-18, 10:00:03</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/202614/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">【老徐】从零开始的 Spring Security OAuth2（三）</div></a> <a href="/pages/605664/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Spring Security 入门篇</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/202614/" class="prev">【老徐】从零开始的 Spring Security OAuth2（三）</a></span> <span class="next"><a href="/pages/605664/">Spring Security 入门篇</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/2eaea3/"><div>
            Docker0 和容器间网络不通问题
            <!----></div></a> <span class="date">02-18</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/013c51/"><div>
            KubeSphere平台安装
            <!----></div></a> <span class="date">02-18</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/075df8/"><div>
            Redis高级客户端Lettuce详解
            <!----></div></a> <span class="date">02-04</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/zx20100143" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>zx | <a href="#" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.3e562d47.js" defer></script><script src="/assets/js/2.37ecbe42.js" defer></script><script src="/assets/js/27.fd041e92.js" defer></script>
  </body>
</html>
